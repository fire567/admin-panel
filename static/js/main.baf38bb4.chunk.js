(this["webpackJsonpadmin-panel"]=this["webpackJsonpadmin-panel"]||[]).push([[0],{44:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(17),c=n.n(s),r=(n(44),n.p+"static/media/logo-icon.e2cdfa3c.svg"),i=n(39),o=(n(48),n(1)),l=function(e){var t=e.width,n=e.height,a=e.fontSize,s=e.lineHeight,c=e.marginLeft;return Object(o.jsxs)("header",{className:"logo-form",children:[Object(o.jsx)(i.a,{src:r,style:{width:t,height:n}}),Object(o.jsx)("div",{className:"logo-text",style:{fontSize:a,lineHeight:s,marginLeft:c},children:"Need for drive"})]})},u=(n(50),n(15)),d=n(11),p=n.n(d),j=n(10),b=n(21),h=n.n(b),x=n(36),f=n(37),g=n.n(f).a.create({baseURL:"https://api-factory.simbirsoft1.com/api/",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS","Access-Control-Allow-Headers":"x-requested-with, Content-Type, origin, authorization, accept, x-api-factory-application-id","secret-key":"4cbcea96de","X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b"}}),m=function(e){return{type:"POST_AUTH",payload:e}},O=function(e){return{type:"SET_TOKEN",payload:e}},T=(n(71),Object(j.b)(null,{setMailText:function(e){return{type:"SET_MAIL",payload:e}},setPasswordText:function(e){return{type:"SET_PASSWORD",payload:e}}})((function(e){var t=e.name,n=e.marginTop,s=e.className,c=e.setMailText,r=e.setPasswordText,i=e.type,l=Object(a.useState)(""),d=Object(u.a)(l,2),p=d[0],j=d[1];return Object(o.jsxs)("div",{className:"input-form",children:[Object(o.jsx)("label",{className:"input-name",children:t}),Object(o.jsx)("br",{}),Object(o.jsx)("input",{type:i,className:s,style:{marginTop:n},value:p,onChange:function(e){return function(e,t){j(e.target.value),"input-mail"!==t&&"wrong-input-mail"!==t||c(e.target.value),"input-pswrd"!==t&&"wrong-input-pswrd"!==t||r(e.target.value)}(e,s)}})]})}))),v=(n(72),function(e){var t=e.text,n=e.color;return Object(o.jsx)("button",{className:"button-form",style:{backgroundColor:n},children:t})}),y=n(4),w=(n(73),Object(j.b)((function(e){return{getMailText:e.getMailText,getPasswordText:e.getPasswordText,auth:e.auth,getToken:e.getToken}}),{postAuth:function(e){return function(){var t=Object(x.a)(h.a.mark((function t(n){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.post("auth/login",e);case 2:a=t.sent,n(m(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setToken:O})((function(e){var t=e.getMailText,n=e.getPasswordText,s=e.postAuth,c=e.auth,r=e.getToken,i=e.setToken,l=Object(a.useState)(!0),d=Object(u.a)(l,2),j=d[0],b=d[1],h=Object(a.useState)(!0),x=Object(u.a)(h,2),f=x[0],g=x[1],m=Object(y.e)();Object(a.useEffect)((function(){c.access_token&&(p.a.set("userToken",c.access_token),i(p.a.get("userToken"))),p.a.get("userToken")&&m.push("/order-list")}),[c,r]);var O=function(e){return Object(o.jsxs)("div",{className:"error-message",children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 ",e]})};return Object(o.jsxs)("div",{className:"login-form",children:[Object(o.jsx)("header",{className:"enter-text",children:"\u0412\u0445\u043e\u0434"}),Object(o.jsxs)("div",{className:"inputs-form",children:[Object(o.jsx)("div",{className:"mail-input",children:Object(o.jsx)(T,{type:"text",name:"\u041f\u043e\u0447\u0442\u0430",marginTop:"8.5px",className:!0===j?"input-mail":"wrong-input-mail"})}),!1===j?O("\u043f\u043e\u0447\u0442\u0443"):null,Object(o.jsx)("div",{className:"pswrd-input",children:Object(o.jsx)(T,{type:"password",name:"\u041f\u0430\u0440\u043e\u043b\u044c",marginTop:"8.5px",className:!0===f?"input-pswrd":"wrong-input-pswrd"})}),!1===f?O("\u043f\u0430\u0440\u043e\u043b\u044c"):null,Object(o.jsxs)("div",{className:"bottom",children:[Object(o.jsx)("div",{className:"request",children:"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f"}),Object(o.jsx)("div",{className:"button-size",onClick:function(){b(""!==t),g(""!==n),s({username:t,password:n,client_secret:"4cbcea96de",client_id:"555555"})},children:Object(o.jsx)(v,{text:"\u0412\u043e\u0439\u0442\u0438",color:"#007BFF"})})]})]})]})}))),k=function(){return Object(o.jsxs)("div",{className:"login-page-form",children:[Object(o.jsx)(l,{width:"44.5px",height:"44.5px",fontSize:"24px",lineHeight:"28px",marginLeft:"11.5px"}),Object(o.jsx)(w,{})]})},N=Object(j.b)((function(e){return{getToken:e.getToken}}),{setToken:O})((function(){var e=Object(y.e)();Object(a.useEffect)((function(){p.a.get("userToken")||e.push("/")}),[]);return Object(o.jsxs)("div",{className:"order-list-page-form",children:["asd",Object(o.jsx)("button",{onClick:function(){p.a.remove("userToken"),window.location.reload()},children:"\u0412\u044b\u0445\u043e\u0434"})]})}));n(76);var A=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(y.a,{path:"/order-list",component:N,exact:!0}),Object(o.jsx)(y.a,{path:"/",component:k,exact:!0})]})},S=n(16),_={token_type:null,access_token:null,expires_in:null,refresh_token:null,user_id:null},E=Object(S.b)({getMailText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SET_MAIL"===t.type?t.payload:e},getPasswordText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SET_PASSWORD"===t.type?t.payload:e},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;return"POST_AUTH"===t.type?t.payload:e},getToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SET_TOKEN"===t.type?t.payload:e}}),P=n(38),C=n(79),M=n(13),H=Object(S.c)(E,Object(S.a)(P.a));c.a.render(Object(o.jsx)(M.a,{basename:"/admin-panel",children:Object(o.jsx)(C.a,{children:Object(o.jsx)(j.a,{store:H,children:Object(o.jsx)(A,{})})})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.baf38bb4.chunk.js.map